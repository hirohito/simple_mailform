Simple Mailform


==== 概要 ====

メールを送信するだけの、シンプルなメールフォームです。確認画面もありません。
formタグを記述するだけで、メール送信をすることができるようになります。

htmlのデザインは行なっていないので、
利用者側でhtmlのコーディングをする必要があります。


次のことができます
・メール送信
　・必須パラメータの設定
・formタグの記述をするだけでメール送信
　・inputタグの type="text" と、textareaタグのみ

次のことはできません
・確認画面の表示
・メールフォーム送信者への確認メール送信



==== すぐに利用する ===

1. app ディレクトリを、メールフォームを設置したいディレクトリにコピーします。
2. index.php を開き、
     $settings['email'] = 'info@example.com';
   の info@example.com の部分を、メール送信先のメールアドレスに変更します。



==== インストール ====

1. メールフォームを設置
  app ディレクトリを、メールフォームを設置したいディレクトリにコピーします。


2. メールフォーム設定
  index.php を開き、メールフォームの設定を行います。

  2.1 メールアドレス【必須】
    下記の info@example の部分を、メールフォームのメール送信先のアドレスに設定してください。

    $settings['email'] = 'info@example.com';


  2.2 メールタイトル【必須】
    もしタイトルを変更したい場合は、下記の Simple Mailform の部分を書き換えてください。
    ※ このプログラムでは、日本語のメールタイトルを用いることはできません。

    $settings['subject'] = 'Simple Mailform';


  2.3 送信元メールアドレス (省略可)
    メール送信元は、デフォルトではメール送信先と同じに設定されます。
    変更したい場合は、下記のコードをコメントアウトして、
    info@example.com の部分を、送信元メールアドレスに変更してください。

    $settings['from'] = 'info@example.com';

  2.4 フォーム項目の設定 (省略可)
    フォームの項目ごとに、
      ・必須パラメータの設定
      ・項目の正式名
    を設定することができます。

    必須パラメータの設定をすると、項目が空の場合に、
    ユーザーに必須パラメータを通知することができます。

    項目の正式名を設定すると、送信メールなどで項目を表示する際に、
    もとのname属性と別の正式名を利用して表示することができます。


    フォームの項目名の設定は、htmlのフォーム部品のname属性に紐付けられた連想配列で設定をします。
    例えば、下記のような設定をした場合、
    name属性に"email"と付けたフォーム部品の設定を行い、
    必須項目に設定し、正式名を"Mail Address"にします。

    $settings['parameters'] = Array(
        'email' => Array('required' => true, 'formalName' => 'Mail Address')
    );

    required を true にすると、必須パラメータに設定します。
    required を false に設定するか省略した場合、任意のパラメータに設定します。
    formalName を設定すると項目の正式名が設定されます。
    formalName を省略すると、フォーム部品のname属性の値がりようされます。

  2.5 完了画面のファイル名 (省略可)
    下記の complete.html の部分を変更すると、完了画面のファイル名を変えることができます。
    index.phpからの相対パスで指定してください。

    $settings['completeHtmlName'] = 'complete.html';

  2.6 必須パラメータが省略された場合のメッセージ
    必須パラメータが省略された場合のメッセージを変更することができます。
    下記の %s is required. の部分を書きかえてください。

    なお、メッセージ中に %s と書くと、その部分はフォームパラメータの正式名に置きかえられます。

    $settings['error_not_exist_required_parameter'] = '%s is required.';


3. HTMLファイルの編集 (省略可)
  index.phpのhtml部分および、complete.htmlを、
  必要に応じて編集してください。



==== ファイル説明 ====

app/mailform.php
  メールフォーム本体。
  メールフォームの表示及び、メール送信処理を行う。

app/complete.html
  メール送信完了後の画面。



============================================================================
Simple Mailform

The MIT License

Copyright (c) 2011 sakairyota

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
